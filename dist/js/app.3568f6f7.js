(()=>{"use strict";var e={875:(e,a,s)=>{var r=s(130),t=s(768),i=s(232);const o={id:"app"},l={class:"navbar navbar-expand-lg navbar-dark bg-primary"},n={class:"container"},c={class:"collapse navbar-collapse",id:"navbarNav"},d={class:"navbar-nav me-auto"},m={class:"nav-item"},u={class:"nav-item"},p={key:0,class:"nav-item"},h={class:"d-flex"},b={class:"navbar-text me-3"},f={class:"container mt-4"};function k(e,a,s,r,k,v){const y=(0,t.g2)("router-link"),_=(0,t.g2)("router-view");return(0,t.uX)(),(0,t.CE)("div",o,[(0,t.Lk)("nav",l,[(0,t.Lk)("div",n,[(0,t.bF)(y,{class:"navbar-brand",to:"/"},{default:(0,t.k6)((()=>a[1]||(a[1]=[(0,t.eW)("간호 시뮬레이션 시나리오 플랫폼")]))),_:1}),a[7]||(a[7]=(0,t.Lk)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,t.Lk)("span",{class:"navbar-toggler-icon"})],-1)),(0,t.Lk)("div",c,[(0,t.Lk)("ul",d,[(0,t.Lk)("li",m,[(0,t.bF)(y,{class:"nav-link",to:"/"},{default:(0,t.k6)((()=>a[2]||(a[2]=[(0,t.eW)("홈")]))),_:1})]),(0,t.Lk)("li",u,[(0,t.bF)(y,{class:"nav-link",to:"/scenarios"},{default:(0,t.k6)((()=>a[3]||(a[3]=[(0,t.eW)("시나리오 목록")]))),_:1})]),e.isAdmin?((0,t.uX)(),(0,t.CE)("li",p,[(0,t.bF)(y,{class:"nav-link",to:"/create"},{default:(0,t.k6)((()=>a[4]||(a[4]=[(0,t.eW)("시나리오 생성")]))),_:1})])):(0,t.Q3)("",!0)]),(0,t.Lk)("div",h,[e.isLoggedIn?((0,t.uX)(),(0,t.CE)(t.FK,{key:0},[(0,t.Lk)("span",b,(0,i.v_)(e.currentUser.username),1),(0,t.Lk)("button",{class:"btn btn-outline-light",onClick:a[0]||(a[0]=(...a)=>e.logout&&e.logout(...a))},"로그아웃")],64)):((0,t.uX)(),(0,t.CE)(t.FK,{key:1},[(0,t.bF)(y,{class:"btn btn-outline-light me-2",to:"/login"},{default:(0,t.k6)((()=>a[5]||(a[5]=[(0,t.eW)("로그인")]))),_:1}),(0,t.bF)(y,{class:"btn btn-light",to:"/register"},{default:(0,t.k6)((()=>a[6]||(a[6]=[(0,t.eW)("회원가입")]))),_:1})],64))])])])]),(0,t.Lk)("div",f,[(0,t.bF)(_)]),a[8]||(a[8]=(0,t.Lk)("footer",{class:"bg-light py-4 mt-5"},[(0,t.Lk)("div",{class:"container text-center"},[(0,t.Lk)("p",{class:"mb-0"},"© 2023 간호 시뮬레이션 시나리오 플랫폼. All rights reserved.")])],-1))])}var v=s(782);const y={name:"App",computed:{...(0,v.L8)(["isLoggedIn","currentUser","isAdmin"])},methods:{...(0,v.i0)(["logout"])},created(){this.$store.dispatch("checkAuth")}};var _=s(241);const L=(0,_.A)(y,[["render",k]]),g=L;var E=s(387);const S={class:"home"},w={class:"hero-section text-center py-5"},A={class:"d-flex justify-content-center gap-3"},C={class:"recent-scenarios-section py-5 bg-light"},I={class:"container"},R={key:0,class:"text-center"},x={key:1,class:"text-center"},O={key:2,class:"row row-cols-1 row-cols-md-3 g-4"},X={class:"card h-100"},T={class:"card-header bg-primary text-white"},U=["title"],D={class:"card-body"},N={class:"card-text"},V={class:"card-text"},W={class:"card-footer bg-white border-top-0"},F={class:"text-center mt-4"};function P(e,a,s,r,o,l){const n=(0,t.g2)("router-link");return(0,t.uX)(),(0,t.CE)("div",S,[(0,t.Lk)("div",w,[a[3]||(a[3]=(0,t.Lk)("h1",{class:"display-4 mb-4"},"간호 시뮬레이션 시나리오 플랫폼",-1)),a[4]||(a[4]=(0,t.Lk)("p",{class:"lead mb-5"},[(0,t.eW)(" 간호 교육을 위한 현실적인 시뮬레이션 시나리오를 생성하고 관리하세요."),(0,t.Lk)("br"),(0,t.eW)(" GPT-3.5 기반의 인공지능이 다양한 상황에 맞는 시나리오를 제공합니다. ")],-1)),(0,t.Lk)("div",A,[(0,t.bF)(n,{to:{name:"ScenarioList"},class:"btn btn-primary btn-lg"},{default:(0,t.k6)((()=>a[0]||(a[0]=[(0,t.eW)(" 시나리오 목록 보기 ")]))),_:1}),e.isAdmin?((0,t.uX)(),(0,t.Wv)(n,{key:0,to:{name:"ScenarioCreate"},class:"btn btn-outline-primary btn-lg"},{default:(0,t.k6)((()=>a[1]||(a[1]=[(0,t.eW)(" 새 시나리오 생성 ")]))),_:1})):e.isLoggedIn?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.Wv)(n,{key:1,to:{name:"Login"},class:"btn btn-outline-primary btn-lg"},{default:(0,t.k6)((()=>a[2]||(a[2]=[(0,t.eW)(" 로그인 ")]))),_:1}))])]),a[12]||(a[12]=(0,t.Fv)('<div class="features-section py-5" data-v-25e51bba><div class="container" data-v-25e51bba><h2 class="text-center mb-5" data-v-25e51bba>주요 기능</h2><div class="row g-4" data-v-25e51bba><div class="col-md-4" data-v-25e51bba><div class="card h-100" data-v-25e51bba><div class="card-body text-center" data-v-25e51bba><div class="feature-icon mb-3" data-v-25e51bba><i class="bi bi-file-earmark-text display-4" data-v-25e51bba></i></div><h3 class="card-title h5" data-v-25e51bba>시나리오 생성</h3><p class="card-text" data-v-25e51bba> 관리자 계정을 통해 다양한 간호 상황에 맞는 시나리오를 생성할 수 있습니다. 기본 인적 사항, 주요 질병, 기타 사항 등을 입력하면 GPT-3.5가 현실적인 시나리오를 생성합니다. </p></div></div></div><div class="col-md-4" data-v-25e51bba><div class="card h-100" data-v-25e51bba><div class="card-body text-center" data-v-25e51bba><div class="feature-icon mb-3" data-v-25e51bba><i class="bi bi-chat-dots display-4" data-v-25e51bba></i></div><h3 class="card-title h5" data-v-25e51bba>챗봇 기반 수정</h3><p class="card-text" data-v-25e51bba> 챗봇 인터페이스를 통해 시나리오를 쉽게 수정할 수 있습니다. 원하는 변경 사항을 자연어로 입력하면 GPT-3.5가 시나리오를 적절히 수정합니다. </p></div></div></div><div class="col-md-4" data-v-25e51bba><div class="card h-100" data-v-25e51bba><div class="card-body text-center" data-v-25e51bba><div class="feature-icon mb-3" data-v-25e51bba><i class="bi bi-search display-4" data-v-25e51bba></i></div><h3 class="card-title h5" data-v-25e51bba>시나리오 열람</h3><p class="card-text" data-v-25e51bba> 생성된 모든 시나리오는 사용자들이 자유롭게 열람할 수 있습니다. 시나리오명, 주요 질병 등으로 검색하여 원하는 시나리오를 쉽게 찾을 수 있습니다. </p></div></div></div></div></div></div>',1)),(0,t.Lk)("div",C,[(0,t.Lk)("div",I,[a[11]||(a[11]=(0,t.Lk)("h2",{class:"text-center mb-5"},"최근 생성된 시나리오",-1)),e.loading?((0,t.uX)(),(0,t.CE)("div",R,a[5]||(a[5]=[(0,t.Lk)("div",{class:"spinner-border text-primary",role:"status"},[(0,t.Lk)("span",{class:"visually-hidden"},"로딩 중...")],-1)]))):0===l.recentScenarios.length?((0,t.uX)(),(0,t.CE)("div",x,a[6]||(a[6]=[(0,t.Lk)("p",null,"아직 생성된 시나리오가 없습니다.",-1)]))):((0,t.uX)(),(0,t.CE)("div",O,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(l.recentScenarios,(e=>((0,t.uX)(),(0,t.CE)("div",{class:"col",key:e.id},[(0,t.Lk)("div",X,[(0,t.Lk)("div",T,[(0,t.Lk)("h3",{class:"h5 mb-0 text-truncate",title:e.title},(0,i.v_)(e.title),9,U)]),(0,t.Lk)("div",D,[(0,t.Lk)("p",N,[a[7]||(a[7]=(0,t.Lk)("strong",null,"주요 질병:",-1)),(0,t.eW)(" "+(0,i.v_)(e.main_disease),1)]),(0,t.Lk)("p",V,[a[8]||(a[8]=(0,t.Lk)("strong",null,"생성일:",-1)),(0,t.eW)(" "+(0,i.v_)(l.formatDate(e.created_at)),1)])]),(0,t.Lk)("div",W,[(0,t.bF)(n,{to:{name:"ScenarioDetail",params:{id:e.id}},class:"btn btn-outline-primary w-100"},{default:(0,t.k6)((()=>a[9]||(a[9]=[(0,t.eW)(" 상세 보기 ")]))),_:2},1032,["to"])])])])))),128))])),(0,t.Lk)("div",F,[(0,t.bF)(n,{to:{name:"ScenarioList"},class:"btn btn-outline-primary"},{default:(0,t.k6)((()=>a[10]||(a[10]=[(0,t.eW)(" 모든 시나리오 보기 ")]))),_:1})])])])])}const $={name:"Home",computed:{...(0,v.L8)(["scenarios","isLoading","isLoggedIn","isAdmin"]),recentScenarios(){return this.scenarios.slice(0,3)}},methods:{formatDate(e){if(!e)return"알 수 없음";const a=new Date(e);return new Intl.DateTimeFormat("ko-KR",{year:"numeric",month:"long",day:"numeric"}).format(a)}},created(){this.$store.dispatch("fetchScenarios")}},G=(0,_.A)($,[["render",P],["__scopeId","data-v-25e51bba"]]),Q=G,K={class:"login-page"},B={class:"card"},H={class:"card-body"},J={key:0,class:"alert alert-danger"},q={class:"mb-3"},j=["disabled"],M={class:"mb-4"},z=["disabled"],Y={class:"d-grid"},Z=["disabled"],ee={key:0,class:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"},ae={class:"mt-4 text-center"};function se(e,a,s,o,l,n){const c=(0,t.g2)("router-link");return(0,t.uX)(),(0,t.CE)("div",K,[(0,t.Lk)("div",B,[a[9]||(a[9]=(0,t.Lk)("div",{class:"card-header bg-primary text-white text-center"},[(0,t.Lk)("h1",{class:"h4 mb-0"},"로그인")],-1)),(0,t.Lk)("div",H,[e.error?((0,t.uX)(),(0,t.CE)("div",J,(0,i.v_)(e.error),1)):(0,t.Q3)("",!0),(0,t.Lk)("form",{onSubmit:a[2]||(a[2]=(0,r.D$)(((...e)=>n.login&&n.login(...e)),["prevent"]))},[(0,t.Lk)("div",q,[a[3]||(a[3]=(0,t.Lk)("label",{for:"email",class:"form-label"},"이메일",-1)),(0,t.bo)((0,t.Lk)("input",{type:"email",class:"form-control",id:"email","onUpdate:modelValue":a[0]||(a[0]=e=>l.form.email=e),required:"",disabled:e.loading},null,8,j),[[r.Jo,l.form.email]])]),(0,t.Lk)("div",M,[a[4]||(a[4]=(0,t.Lk)("label",{for:"password",class:"form-label"},"비밀번호",-1)),(0,t.bo)((0,t.Lk)("input",{type:"password",class:"form-control",id:"password","onUpdate:modelValue":a[1]||(a[1]=e=>l.form.password=e),required:"",disabled:e.loading},null,8,z),[[r.Jo,l.form.password]])]),(0,t.Lk)("div",Y,[(0,t.Lk)("button",{type:"submit",class:"btn btn-primary",disabled:e.loading},[e.loading?((0,t.uX)(),(0,t.CE)("span",ee)):(0,t.Q3)("",!0),a[5]||(a[5]=(0,t.eW)(" 로그인 "))],8,Z)])],32),(0,t.Lk)("div",ae,[(0,t.Lk)("p",null,[a[7]||(a[7]=(0,t.eW)("계정이 없으신가요? ")),(0,t.bF)(c,{to:{name:"Register"}},{default:(0,t.k6)((()=>a[6]||(a[6]=[(0,t.eW)("회원가입")]))),_:1})])]),a[8]||(a[8]=(0,t.Lk)("div",{class:"mt-3 text-center"},[(0,t.Lk)("p",{class:"text-muted small"},"관리자 계정: admin / password123!")],-1))])])])}const re={name:"Login",data(){return{form:{email:"",password:""}}},computed:{...(0,v.L8)(["isLoading","error"])},methods:{async login(){try{await this.$store.dispatch("login",this.form);const e=this.$route.query.redirect||"/";this.$router.push(e)}catch(e){console.error("로그인 실패:",e)}}}},te=(0,_.A)(re,[["render",se],["__scopeId","data-v-7a77935e"]]),ie=te,oe={class:"register-page"},le={class:"card"},ne={class:"card-body"},ce={key:0,class:"alert alert-danger"},de={class:"mb-3"},me=["disabled"],ue={class:"mb-3"},pe=["disabled"],he={class:"mb-3"},be=["disabled"],fe={class:"mb-4"},ke=["disabled"],ve={key:0,class:"text-danger mt-1"},ye={class:"d-grid"},_e=["disabled"],Le={key:0,class:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"},ge={class:"mt-4 text-center"};function Ee(e,a,s,o,l,n){const c=(0,t.g2)("router-link");return(0,t.uX)(),(0,t.CE)("div",oe,[(0,t.Lk)("div",le,[a[13]||(a[13]=(0,t.Lk)("div",{class:"card-header bg-primary text-white text-center"},[(0,t.Lk)("h1",{class:"h4 mb-0"},"회원가입")],-1)),(0,t.Lk)("div",ne,[e.error?((0,t.uX)(),(0,t.CE)("div",ce,(0,i.v_)(e.error),1)):(0,t.Q3)("",!0),(0,t.Lk)("form",{onSubmit:a[4]||(a[4]=(0,r.D$)(((...e)=>n.register&&n.register(...e)),["prevent"]))},[(0,t.Lk)("div",de,[a[5]||(a[5]=(0,t.Lk)("label",{for:"username",class:"form-label"},"사용자명",-1)),(0,t.bo)((0,t.Lk)("input",{type:"text",class:"form-control",id:"username","onUpdate:modelValue":a[0]||(a[0]=e=>l.form.username=e),required:"",disabled:e.loading},null,8,me),[[r.Jo,l.form.username]])]),(0,t.Lk)("div",ue,[a[6]||(a[6]=(0,t.Lk)("label",{for:"email",class:"form-label"},"이메일",-1)),(0,t.bo)((0,t.Lk)("input",{type:"email",class:"form-control",id:"email","onUpdate:modelValue":a[1]||(a[1]=e=>l.form.email=e),required:"",disabled:e.loading},null,8,pe),[[r.Jo,l.form.email]])]),(0,t.Lk)("div",he,[a[7]||(a[7]=(0,t.Lk)("label",{for:"password",class:"form-label"},"비밀번호",-1)),(0,t.bo)((0,t.Lk)("input",{type:"password",class:"form-control",id:"password","onUpdate:modelValue":a[2]||(a[2]=e=>l.form.password=e),required:"",disabled:e.loading,minlength:"6"},null,8,be),[[r.Jo,l.form.password]]),a[8]||(a[8]=(0,t.Lk)("div",{class:"form-text"},"비밀번호는 최소 6자 이상이어야 합니다.",-1))]),(0,t.Lk)("div",fe,[a[9]||(a[9]=(0,t.Lk)("label",{for:"password_confirm",class:"form-label"},"비밀번호 확인",-1)),(0,t.bo)((0,t.Lk)("input",{type:"password",class:"form-control",id:"password_confirm","onUpdate:modelValue":a[3]||(a[3]=e=>l.form.password_confirm=e),required:"",disabled:e.loading},null,8,ke),[[r.Jo,l.form.password_confirm]]),n.passwordMismatch?((0,t.uX)(),(0,t.CE)("div",ve," 비밀번호가 일치하지 않습니다. ")):(0,t.Q3)("",!0)]),(0,t.Lk)("div",ye,[(0,t.Lk)("button",{type:"submit",class:"btn btn-primary",disabled:e.loading||n.passwordMismatch},[e.loading?((0,t.uX)(),(0,t.CE)("span",Le)):(0,t.Q3)("",!0),a[10]||(a[10]=(0,t.eW)(" 회원가입 "))],8,_e)])],32),(0,t.Lk)("div",ge,[(0,t.Lk)("p",null,[a[12]||(a[12]=(0,t.eW)("이미 계정이 있으신가요? ")),(0,t.bF)(c,{to:{name:"Login"}},{default:(0,t.k6)((()=>a[11]||(a[11]=[(0,t.eW)("로그인")]))),_:1})])])])])])}const Se={name:"Register",data(){return{form:{username:"",email:"",password:"",password_confirm:""}}},computed:{...(0,v.L8)(["isLoading","error"]),passwordMismatch(){return this.form.password&&this.form.password_confirm&&this.form.password!==this.form.password_confirm}},methods:{async register(){if(!this.passwordMismatch)try{await this.$store.dispatch("register",{username:this.form.username,email:this.form.email,password:this.form.password}),this.$router.push("/")}catch(e){console.error("회원가입 실패:",e)}}}},we=(0,_.A)(Se,[["render",Ee],["__scopeId","data-v-e8957208"]]),Ae=we,Ce={class:"scenario-list"},Ie={class:"d-flex justify-content-between align-items-center mb-4"},Re={key:0,class:"text-center my-5"},xe={key:1,class:"alert alert-danger my-5"},Oe={key:2,class:"alert alert-info my-5"},Xe={key:0},Te={key:3},Ue={class:"mb-4"},De={class:"input-group"},Ne={class:"row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4"},Ve={class:"card h-100"},We={class:"card-header bg-primary text-white"},Fe=["title"],Pe={class:"card-body"},$e={class:"card-text mb-2"},Ge={class:"card-text mb-2"},Qe={class:"card-text mb-0"},Ke={class:"card-footer bg-white border-top-0"};function Be(e,a,s,o,l,n){const c=(0,t.g2)("router-link");return(0,t.uX)(),(0,t.CE)("div",Ce,[(0,t.Lk)("div",Ie,[a[3]||(a[3]=(0,t.Lk)("h1",null,"시나리오 목록",-1)),e.isAdmin?((0,t.uX)(),(0,t.Wv)(c,{key:0,to:{name:"ScenarioCreate"},class:"btn btn-primary"},{default:(0,t.k6)((()=>a[2]||(a[2]=[(0,t.eW)(" 새 시나리오 생성 ")]))),_:1})):(0,t.Q3)("",!0)]),e.loading?((0,t.uX)(),(0,t.CE)("div",Re,a[4]||(a[4]=[(0,t.Lk)("div",{class:"spinner-border text-primary",role:"status"},[(0,t.Lk)("span",{class:"visually-hidden"},"로딩 중...")],-1),(0,t.Lk)("p",{class:"mt-3"},"시나리오를 불러오는 중입니다...",-1)]))):e.error?((0,t.uX)(),(0,t.CE)("div",xe,(0,i.v_)(e.error),1)):0===e.scenarios.length?((0,t.uX)(),(0,t.CE)("div",Oe,[a[7]||(a[7]=(0,t.eW)(" 등록된 시나리오가 없습니다. ")),e.isAdmin?((0,t.uX)(),(0,t.CE)("span",Xe,[(0,t.bF)(c,{to:{name:"ScenarioCreate"},class:"alert-link"},{default:(0,t.k6)((()=>a[5]||(a[5]=[(0,t.eW)(" 새 시나리오를 생성 ")]))),_:1}),a[6]||(a[6]=(0,t.eW)("해 보세요. "))])):(0,t.Q3)("",!0)])):((0,t.uX)(),(0,t.CE)("div",Te,[(0,t.Lk)("div",Ue,[(0,t.Lk)("div",De,[(0,t.bo)((0,t.Lk)("input",{type:"text",class:"form-control",placeholder:"시나리오명, 질병명으로 검색","onUpdate:modelValue":a[0]||(a[0]=e=>l.searchQuery=e)},null,512),[[r.Jo,l.searchQuery]]),(0,t.Lk)("button",{class:"btn btn-outline-secondary",type:"button",onClick:a[1]||(a[1]=(...e)=>n.search&&n.search(...e))}," 검색 ")])]),(0,t.Lk)("div",Ne,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(l.filteredScenarios,(e=>((0,t.uX)(),(0,t.CE)("div",{class:"col",key:e.id},[(0,t.Lk)("div",Ve,[(0,t.Lk)("div",We,[(0,t.Lk)("h2",{class:"h5 mb-0 text-truncate",title:e.title},(0,i.v_)(e.title),9,Fe)]),(0,t.Lk)("div",Pe,[(0,t.Lk)("p",$e,[a[8]||(a[8]=(0,t.Lk)("strong",null,"주요 질병:",-1)),(0,t.eW)(" "+(0,i.v_)(e.main_disease),1)]),(0,t.Lk)("p",Ge,[a[9]||(a[9]=(0,t.Lk)("strong",null,"작성자:",-1)),(0,t.eW)(" "+(0,i.v_)(e.created_by?e.created_by.username:"알 수 없음"),1)]),(0,t.Lk)("p",Qe,[a[10]||(a[10]=(0,t.Lk)("strong",null,"생성일:",-1)),(0,t.eW)(" "+(0,i.v_)(n.formatDate(e.created_at)),1)])]),(0,t.Lk)("div",Ke,[(0,t.bF)(c,{to:{name:"ScenarioDetail",params:{id:e.id}},class:"btn btn-outline-primary w-100"},{default:(0,t.k6)((()=>a[11]||(a[11]=[(0,t.eW)(" 상세 보기 ")]))),_:2},1032,["to"])])])])))),128))])]))])}const He={name:"ScenarioList",data(){return{searchQuery:"",filteredScenarios:[]}},computed:{...(0,v.L8)(["scenarios","isLoading","error","isAdmin"])},methods:{formatDate(e){if(!e)return"알 수 없음";const a=new Date(e);return new Intl.DateTimeFormat("ko-KR",{year:"numeric",month:"long",day:"numeric"}).format(a)},search(){if(!this.searchQuery.trim())return void(this.filteredScenarios=[...this.scenarios]);const e=this.searchQuery.toLowerCase();this.filteredScenarios=this.scenarios.filter((a=>a.title.toLowerCase().includes(e)||a.main_disease.toLowerCase().includes(e)))}},async created(){await this.$store.dispatch("fetchScenarios"),this.filteredScenarios=[...this.scenarios]},watch:{scenarios(e){this.filteredScenarios=[...e],this.search()}}},Je=(0,_.A)(He,[["render",Be],["__scopeId","data-v-4fbaabb6"]]),qe=Je,je={class:"scenario-detail"},Me={key:0,class:"text-center my-5"},ze={key:1,class:"alert alert-danger my-5"},Ye={key:2,class:"alert alert-warning my-5"},Ze={key:3},ea={class:"d-flex justify-content-between align-items-center mb-4"},aa={class:"card mb-4"},sa={class:"card-body"},ra={class:"row"},ta={class:"col-md-6 mb-3"},ia={class:"col-md-6 mb-3"},oa={class:"mb-3"},la={class:"table-responsive"},na={class:"table table-bordered"},ca={style:{width:"150px"}},da={key:0,class:"mb-3"},ma={class:"mb-3"},ua={class:"mb-3"},pa={class:"card"},ha={class:"card-body"},ba={class:"scenario-content"},fa={class:"scenario-text"};function ka(e,a,s,r,o,l){const n=(0,t.g2)("router-link");return(0,t.uX)(),(0,t.CE)("div",je,[e.loading?((0,t.uX)(),(0,t.CE)("div",Me,a[0]||(a[0]=[(0,t.Lk)("div",{class:"spinner-border text-primary",role:"status"},[(0,t.Lk)("span",{class:"visually-hidden"},"로딩 중...")],-1),(0,t.Lk)("p",{class:"mt-3"},"시나리오를 불러오는 중입니다...",-1)]))):e.error?((0,t.uX)(),(0,t.CE)("div",ze,(0,i.v_)(e.error),1)):e.currentScenario?((0,t.uX)(),(0,t.CE)("div",Ze,[(0,t.Lk)("div",ea,[(0,t.Lk)("h1",null,(0,i.v_)(e.currentScenario.title),1),(0,t.Lk)("div",null,[(0,t.bF)(n,{to:{name:"ScenarioList"},class:"btn btn-outline-secondary me-2"},{default:(0,t.k6)((()=>a[1]||(a[1]=[(0,t.eW)(" 목록으로 ")]))),_:1}),e.isLoggedIn?((0,t.uX)(),(0,t.Wv)(n,{key:0,to:{name:"ScenarioModify",params:{id:s.id}},class:"btn btn-primary"},{default:(0,t.k6)((()=>a[2]||(a[2]=[(0,t.eW)(" 시나리오 수정 ")]))),_:1},8,["to"])):(0,t.Q3)("",!0)])]),(0,t.Lk)("div",aa,[a[9]||(a[9]=(0,t.Lk)("div",{class:"card-header bg-primary text-white"},[(0,t.Lk)("h2",{class:"h5 mb-0"},"시나리오 정보")],-1)),(0,t.Lk)("div",sa,[(0,t.Lk)("div",ra,[(0,t.Lk)("div",ta,[a[3]||(a[3]=(0,t.Lk)("h3",{class:"h6"},"주요 질병",-1)),(0,t.Lk)("p",null,(0,i.v_)(e.currentScenario.main_disease),1)]),(0,t.Lk)("div",ia,[a[4]||(a[4]=(0,t.Lk)("h3",{class:"h6"},"작성자",-1)),(0,t.Lk)("p",null,(0,i.v_)(e.currentScenario.created_by?e.currentScenario.created_by.username:"알 수 없음"),1)])]),(0,t.Lk)("div",oa,[a[5]||(a[5]=(0,t.Lk)("h3",{class:"h6"},"기본 인적 사항",-1)),(0,t.Lk)("div",la,[(0,t.Lk)("table",na,[(0,t.Lk)("tbody",null,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(e.currentScenario.personal_info,((e,a)=>((0,t.uX)(),(0,t.CE)("tr",{key:a},[(0,t.Lk)("th",ca,(0,i.v_)(l.formatKey(a)),1),(0,t.Lk)("td",null,(0,i.v_)(l.formatValue(e)),1)])))),128))])])])]),e.currentScenario.additional_info?((0,t.uX)(),(0,t.CE)("div",da,[a[6]||(a[6]=(0,t.Lk)("h3",{class:"h6"},"기타 사항",-1)),(0,t.Lk)("p",null,(0,i.v_)(e.currentScenario.additional_info),1)])):(0,t.Q3)("",!0),(0,t.Lk)("div",ma,[a[7]||(a[7]=(0,t.Lk)("h3",{class:"h6"},"생성일",-1)),(0,t.Lk)("p",null,(0,i.v_)(l.formatDate(e.currentScenario.created_at)),1)]),(0,t.Lk)("div",ua,[a[8]||(a[8]=(0,t.Lk)("h3",{class:"h6"},"최종 수정일",-1)),(0,t.Lk)("p",null,(0,i.v_)(l.formatDate(e.currentScenario.updated_at)),1)])])]),(0,t.Lk)("div",pa,[a[10]||(a[10]=(0,t.Lk)("div",{class:"card-header bg-light"},[(0,t.Lk)("h2",{class:"h5 mb-0"},"시나리오 내용")],-1)),(0,t.Lk)("div",ha,[(0,t.Lk)("div",ba,[(0,t.Lk)("pre",fa,(0,i.v_)(e.currentScenario.content),1)])])])])):((0,t.uX)(),(0,t.CE)("div",Ye," 시나리오를 찾을 수 없습니다. "))])}const va={name:"ScenarioDetail",props:{id:{type:[String,Number],required:!0}},computed:{...(0,v.L8)(["currentScenario","isLoading","error","isLoggedIn"])},methods:{formatKey(e){const a={gender:"성별",age:"나이",medical_history:"과거력",family_history:"가족력",allergies:"알레르기",vital_signs:"활력징후",symptoms:"주요증상"};return a[e]||e},formatValue(e){return Array.isArray(e)?e.join(", "):e},formatDate(e){if(!e)return"알 수 없음";const a=new Date(e);return new Intl.DateTimeFormat("ko-KR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(a)}},async created(){this.currentScenario&&this.currentScenario.id===parseInt(this.id)||await this.$store.dispatch("fetchScenario",this.id)}},ya=(0,_.A)(va,[["render",ka],["__scopeId","data-v-22d772bf"]]),_a=ya,La={class:"scenario-create"},ga={key:0,class:"alert alert-danger"},Ea={class:"card-body"},Sa={class:"mb-3"},wa={class:"mb-3"},Aa={class:"mb-4"},Ca={class:"card mb-3"},Ia={class:"card-body"},Ra={class:"form-check form-check-inline"},xa={class:"form-check form-check-inline"},Oa={class:"card mb-3"},Xa={class:"card-body"},Ta=["id","value","onUpdate:modelValue"],Ua=["for"],Da={class:"card mb-3"},Na={class:"card-body"},Va=["id","value"],Wa=["for"],Fa={key:0,class:"mt-2"},Pa={class:"card mb-3"},$a={class:"card-body"},Ga=["id","value"],Qa=["for"],Ka={key:0,class:"mt-2"},Ba={class:"card mb-3"},Ha={class:"card-body"},Ja=["id","value"],qa=["for"],ja={key:0,class:"mt-2"},Ma={class:"card mb-3"},za={class:"card-body"},Ya={class:"form-check form-check-inline"},Za={class:"form-check form-check-inline"},es={key:0,class:"mt-2"},as={class:"card mb-3"},ss={class:"card-body"},rs=["id","value"],ts=["for"],is={key:0,class:"mt-2"},os={class:"mb-3"},ls={class:"d-grid"},ns=["disabled"],cs={key:0,class:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"};function ds(e,a,s,o,l,n){return(0,t.uX)(),(0,t.CE)("div",La,[a[33]||(a[33]=(0,t.Lk)("h1",{class:"mb-4"},"시나리오 생성",-1)),e.error?((0,t.uX)(),(0,t.CE)("div",ga,(0,i.v_)(e.error),1)):(0,t.Q3)("",!0),(0,t.Lk)("form",{onSubmit:a[16]||(a[16]=(0,r.D$)(((...e)=>n.createScenario&&n.createScenario(...e)),["prevent"])),class:"card"},[(0,t.Lk)("div",Ea,[(0,t.Lk)("div",Sa,[a[17]||(a[17]=(0,t.Lk)("label",{for:"title",class:"form-label"},"시나리오명 *",-1)),(0,t.bo)((0,t.Lk)("input",{type:"text",class:"form-control",id:"title","onUpdate:modelValue":a[0]||(a[0]=e=>l.form.title=e),required:""},null,512),[[r.Jo,l.form.title]])]),(0,t.Lk)("div",wa,[a[18]||(a[18]=(0,t.Lk)("label",{for:"main_disease",class:"form-label"},"주요 질병 *",-1)),(0,t.bo)((0,t.Lk)("input",{type:"text",class:"form-control",id:"main_disease","onUpdate:modelValue":a[1]||(a[1]=e=>l.form.main_disease=e),required:""},null,512),[[r.Jo,l.form.main_disease]])]),(0,t.Lk)("div",Aa,[a[30]||(a[30]=(0,t.Lk)("label",{class:"form-label"},"기본 인적 사항",-1)),(0,t.Lk)("div",Ca,[(0,t.Lk)("div",Ia,[a[21]||(a[21]=(0,t.Lk)("h5",{class:"card-title"},"성별",-1)),(0,t.Lk)("div",Ra,[(0,t.bo)((0,t.Lk)("input",{class:"form-check-input",type:"radio",name:"gender",id:"gender-male",value:"남","onUpdate:modelValue":a[2]||(a[2]=e=>l.form.personal_info.gender=e)},null,512),[[r.XL,l.form.personal_info.gender]]),a[19]||(a[19]=(0,t.Lk)("label",{class:"form-check-label",for:"gender-male"},"남",-1))]),(0,t.Lk)("div",xa,[(0,t.bo)((0,t.Lk)("input",{class:"form-check-input",type:"radio",name:"gender",id:"gender-female",value:"여","onUpdate:modelValue":a[3]||(a[3]=e=>l.form.personal_info.gender=e)},null,512),[[r.XL,l.form.personal_info.gender]]),a[20]||(a[20]=(0,t.Lk)("label",{class:"form-check-label",for:"gender-female"},"여",-1))])])]),(0,t.Lk)("div",Oa,[(0,t.Lk)("div",Xa,[a[22]||(a[22]=(0,t.Lk)("h5",{class:"card-title"},"나이",-1)),((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(l.ageOptions,((e,a)=>((0,t.uX)(),(0,t.CE)("div",{class:"form-check form-check-inline",key:a},[(0,t.bo)((0,t.Lk)("input",{class:"form-check-input",type:"radio",name:"age",id:"age-"+a,value:e,"onUpdate:modelValue":e=>l.form.personal_info.age=e},null,8,Ta),[[r.XL,l.form.personal_info.age]]),(0,t.Lk)("label",{class:"form-check-label",for:"age-"+a},(0,i.v_)(e),9,Ua)])))),128))])]),(0,t.Lk)("div",Da,[(0,t.Lk)("div",Na,[a[23]||(a[23]=(0,t.Lk)("h5",{class:"card-title"},"과거력",-1)),((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(l.medicalHistoryOptions,((e,s)=>((0,t.uX)(),(0,t.CE)("div",{class:"form-check",key:s},[(0,t.bo)((0,t.Lk)("input",{class:"form-check-input",type:"checkbox",id:"history-"+s,value:e,"onUpdate:modelValue":a[4]||(a[4]=e=>l.form.personal_info.medical_history=e)},null,8,Va),[[r.lH,l.form.personal_info.medical_history]]),(0,t.Lk)("label",{class:"form-check-label",for:"history-"+s},(0,i.v_)(e),9,Wa)])))),128)),l.form.personal_info.medical_history.includes("기타")?((0,t.uX)(),(0,t.CE)("div",Fa,[(0,t.bo)((0,t.Lk)("input",{type:"text",class:"form-control",placeholder:"기타 과거력을 입력하세요","onUpdate:modelValue":a[5]||(a[5]=e=>l.form.personal_info.medical_history_other=e)},null,512),[[r.Jo,l.form.personal_info.medical_history_other]])])):(0,t.Q3)("",!0)])]),(0,t.Lk)("div",Pa,[(0,t.Lk)("div",$a,[a[24]||(a[24]=(0,t.Lk)("h5",{class:"card-title"},"가족력",-1)),((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(l.familyHistoryOptions,((e,s)=>((0,t.uX)(),(0,t.CE)("div",{class:"form-check",key:s},[(0,t.bo)((0,t.Lk)("input",{class:"form-check-input",type:"checkbox",id:"family-"+s,value:e,"onUpdate:modelValue":a[6]||(a[6]=e=>l.form.personal_info.family_history=e)},null,8,Ga),[[r.lH,l.form.personal_info.family_history]]),(0,t.Lk)("label",{class:"form-check-label",for:"family-"+s},(0,i.v_)(e),9,Qa)])))),128)),l.form.personal_info.family_history.includes("기타")?((0,t.uX)(),(0,t.CE)("div",Ka,[(0,t.bo)((0,t.Lk)("input",{type:"text",class:"form-control",placeholder:"기타 가족력을 입력하세요","onUpdate:modelValue":a[7]||(a[7]=e=>l.form.personal_info.family_history_other=e)},null,512),[[r.Jo,l.form.personal_info.family_history_other]])])):(0,t.Q3)("",!0)])]),(0,t.Lk)("div",Ba,[(0,t.Lk)("div",Ha,[a[25]||(a[25]=(0,t.Lk)("h5",{class:"card-title"},"알레르기",-1)),((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(l.allergyOptions,((e,s)=>((0,t.uX)(),(0,t.CE)("div",{class:"form-check",key:s},[(0,t.bo)((0,t.Lk)("input",{class:"form-check-input",type:"checkbox",id:"allergy-"+s,value:e,"onUpdate:modelValue":a[8]||(a[8]=e=>l.form.personal_info.allergies=e)},null,8,Ja),[[r.lH,l.form.personal_info.allergies]]),(0,t.Lk)("label",{class:"form-check-label",for:"allergy-"+s},(0,i.v_)(e),9,qa)])))),128)),l.form.personal_info.allergies.includes("기타")?((0,t.uX)(),(0,t.CE)("div",ja,[(0,t.bo)((0,t.Lk)("input",{type:"text",class:"form-control",placeholder:"기타 알레르기를 입력하세요","onUpdate:modelValue":a[9]||(a[9]=e=>l.form.personal_info.allergies_other=e)},null,512),[[r.Jo,l.form.personal_info.allergies_other]])])):(0,t.Q3)("",!0)])]),(0,t.Lk)("div",Ma,[(0,t.Lk)("div",za,[a[28]||(a[28]=(0,t.Lk)("h5",{class:"card-title"},"활력징후",-1)),(0,t.Lk)("div",Ya,[(0,t.bo)((0,t.Lk)("input",{class:"form-check-input",type:"radio",name:"vital_signs",id:"vital-normal",value:"정상","onUpdate:modelValue":a[10]||(a[10]=e=>l.form.personal_info.vital_signs=e)},null,512),[[r.XL,l.form.personal_info.vital_signs]]),a[26]||(a[26]=(0,t.Lk)("label",{class:"form-check-label",for:"vital-normal"},"정상",-1))]),(0,t.Lk)("div",Za,[(0,t.bo)((0,t.Lk)("input",{class:"form-check-input",type:"radio",name:"vital_signs",id:"vital-abnormal",value:"비정상","onUpdate:modelValue":a[11]||(a[11]=e=>l.form.personal_info.vital_signs=e)},null,512),[[r.XL,l.form.personal_info.vital_signs]]),a[27]||(a[27]=(0,t.Lk)("label",{class:"form-check-label",for:"vital-abnormal"},"비정상",-1))]),"비정상"===l.form.personal_info.vital_signs?((0,t.uX)(),(0,t.CE)("div",es,[(0,t.bo)((0,t.Lk)("input",{type:"text",class:"form-control",placeholder:"비정상 활력징후를 입력하세요","onUpdate:modelValue":a[12]||(a[12]=e=>l.form.personal_info.vital_signs_detail=e)},null,512),[[r.Jo,l.form.personal_info.vital_signs_detail]])])):(0,t.Q3)("",!0)])]),(0,t.Lk)("div",as,[(0,t.Lk)("div",ss,[a[29]||(a[29]=(0,t.Lk)("h5",{class:"card-title"},"주요증상",-1)),((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(l.symptomOptions,((e,s)=>((0,t.uX)(),(0,t.CE)("div",{class:"form-check",key:s},[(0,t.bo)((0,t.Lk)("input",{class:"form-check-input",type:"checkbox",id:"symptom-"+s,value:e,"onUpdate:modelValue":a[13]||(a[13]=e=>l.form.personal_info.symptoms=e)},null,8,rs),[[r.lH,l.form.personal_info.symptoms]]),(0,t.Lk)("label",{class:"form-check-label",for:"symptom-"+s},(0,i.v_)(e),9,ts)])))),128)),l.form.personal_info.symptoms.includes("기타")?((0,t.uX)(),(0,t.CE)("div",is,[(0,t.bo)((0,t.Lk)("input",{type:"text",class:"form-control",placeholder:"기타 증상을 입력하세요","onUpdate:modelValue":a[14]||(a[14]=e=>l.form.personal_info.symptoms_other=e)},null,512),[[r.Jo,l.form.personal_info.symptoms_other]])])):(0,t.Q3)("",!0)])])]),(0,t.Lk)("div",os,[a[31]||(a[31]=(0,t.Lk)("label",{for:"additional_info",class:"form-label"},"기타 사항",-1)),(0,t.bo)((0,t.Lk)("textarea",{class:"form-control",id:"additional_info",rows:"5","onUpdate:modelValue":a[15]||(a[15]=e=>l.form.additional_info=e),placeholder:"환자의 상태, 상황 등 추가 정보를 입력하세요"},null,512),[[r.Jo,l.form.additional_info]])]),(0,t.Lk)("div",ls,[(0,t.Lk)("button",{type:"submit",class:"btn btn-primary",disabled:e.loading},[e.loading?((0,t.uX)(),(0,t.CE)("span",cs)):(0,t.Q3)("",!0),a[32]||(a[32]=(0,t.eW)(" 시나리오 생성 "))],8,ns)])])],32)])}const ms={name:"ScenarioCreate",data(){return{form:{title:"",main_disease:"",personal_info:{gender:"",age:"",medical_history:[],medical_history_other:"",family_history:[],family_history_other:"",allergies:[],allergies_other:"",vital_signs:"정상",vital_signs_detail:"",symptoms:[],symptoms_other:""},additional_info:""},ageOptions:["영아","소아","청소년","성인","노인"],medicalHistoryOptions:["고혈압","당뇨","심장질환","기타"],familyHistoryOptions:["고혈압","당뇨","심장질환","기타"],allergyOptions:["약물","음식","기타"],symptomOptions:["호흡곤란","흉통","발열","기타"]}},computed:{...(0,v.L8)(["isLoading","error"])},methods:{async createScenario(){try{const e={...this.form.personal_info};e.medical_history.includes("기타")&&e.medical_history_other&&(e.medical_history=e.medical_history.filter((e=>"기타"!==e)),e.medical_history.push(e.medical_history_other)),e.family_history.includes("기타")&&e.family_history_other&&(e.family_history=e.family_history.filter((e=>"기타"!==e)),e.family_history.push(e.family_history_other)),e.allergies.includes("기타")&&e.allergies_other&&(e.allergies=e.allergies.filter((e=>"기타"!==e)),e.allergies.push(e.allergies_other)),e.symptoms.includes("기타")&&e.symptoms_other&&(e.symptoms=e.symptoms.filter((e=>"기타"!==e)),e.symptoms.push(e.symptoms_other)),"비정상"===e.vital_signs&&e.vital_signs_detail&&(e.vital_signs=`비정상(${e.vital_signs_detail})`),delete e.medical_history_other,delete e.family_history_other,delete e.allergies_other,delete e.symptoms_other,delete e.vital_signs_detail;const a={title:this.form.title,main_disease:this.form.main_disease,personal_info:e,additional_info:this.form.additional_info},s=await this.$store.dispatch("createScenario",a);this.$router.push({name:"ScenarioDetail",params:{id:s.id}})}catch(e){console.error("시나리오 생성 실패:",e)}}}},us=(0,_.A)(ms,[["render",ds],["__scopeId","data-v-402c54b0"]]),ps=us,hs={class:"scenario-modify"},bs={key:0,class:"text-center my-5"},fs={key:1,class:"alert alert-danger my-5"},ks={key:2,class:"alert alert-warning my-5"},vs={key:3},ys={class:"d-flex justify-content-between align-items-center mb-4"},_s={class:"card mb-4"},Ls={class:"card-header bg-primary text-white"},gs={class:"h5 mb-0"},Es={class:"card-body"},Ss={class:"mb-3"},ws={class:"mb-3"},As={class:"list-group list-group-flush"},Cs={key:0},Is={class:"card mb-4"},Rs={class:"card-body"},xs={class:"scenario-content"},Os={class:"scenario-text"},Xs={class:"card"},Ts={class:"card-body"},Us={class:"chat-container mb-4"},Ds={class:"message-content"},Ns={key:0},Vs={key:1},Ws={class:"bot-response"},Fs={class:"input-group"},Ps=["disabled"],$s=["disabled"],Gs={key:0,class:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"};function Qs(e,a,s,o,l,n){const c=(0,t.g2)("router-link");return(0,t.uX)(),(0,t.CE)("div",hs,[e.loading?((0,t.uX)(),(0,t.CE)("div",bs,a[2]||(a[2]=[(0,t.Lk)("div",{class:"spinner-border text-primary",role:"status"},[(0,t.Lk)("span",{class:"visually-hidden"},"로딩 중...")],-1),(0,t.Lk)("p",{class:"mt-3"},"시나리오를 불러오는 중입니다...",-1)]))):e.error?((0,t.uX)(),(0,t.CE)("div",fs,(0,i.v_)(e.error),1)):e.currentScenario?((0,t.uX)(),(0,t.CE)("div",vs,[(0,t.Lk)("div",ys,[a[4]||(a[4]=(0,t.Lk)("h1",null,"시나리오 수정",-1)),(0,t.bF)(c,{to:{name:"ScenarioDetail",params:{id:s.id}},class:"btn btn-outline-secondary"},{default:(0,t.k6)((()=>a[3]||(a[3]=[(0,t.eW)(" 돌아가기 ")]))),_:1},8,["to"])]),(0,t.Lk)("div",_s,[(0,t.Lk)("div",Ls,[(0,t.Lk)("h2",gs,(0,i.v_)(e.currentScenario.title),1)]),(0,t.Lk)("div",Es,[(0,t.Lk)("div",Ss,[a[5]||(a[5]=(0,t.Lk)("h3",{class:"h6"},"주요 질병",-1)),(0,t.Lk)("p",null,(0,i.v_)(e.currentScenario.main_disease),1)]),(0,t.Lk)("div",ws,[a[6]||(a[6]=(0,t.Lk)("h3",{class:"h6"},"기본 인적 사항",-1)),(0,t.Lk)("ul",As,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(e.currentScenario.personal_info,((e,a)=>((0,t.uX)(),(0,t.CE)("li",{class:"list-group-item",key:a},[(0,t.Lk)("strong",null,(0,i.v_)(n.formatKey(a))+":",1),(0,t.eW)(" "+(0,i.v_)(n.formatValue(e)),1)])))),128))])]),e.currentScenario.additional_info?((0,t.uX)(),(0,t.CE)("div",Cs,[a[7]||(a[7]=(0,t.Lk)("h3",{class:"h6"},"기타 사항",-1)),(0,t.Lk)("p",null,(0,i.v_)(e.currentScenario.additional_info),1)])):(0,t.Q3)("",!0)])]),(0,t.Lk)("div",Is,[a[8]||(a[8]=(0,t.Lk)("div",{class:"card-header bg-light"},[(0,t.Lk)("h3",{class:"h5 mb-0"},"현재 시나리오 내용")],-1)),(0,t.Lk)("div",Rs,[(0,t.Lk)("div",xs,[(0,t.Lk)("pre",Os,(0,i.v_)(e.currentScenario.content),1)])])]),(0,t.Lk)("div",Xs,[a[12]||(a[12]=(0,t.Lk)("div",{class:"card-header bg-light"},[(0,t.Lk)("h3",{class:"h5 mb-0"},"챗봇을 통한 시나리오 수정")],-1)),(0,t.Lk)("div",Ts,[(0,t.Lk)("div",Us,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(l.chatHistory,((e,s)=>((0,t.uX)(),(0,t.CE)("div",{key:s,class:(0,i.C4)(["chat-message","user"===e.sender?"user-message":"bot-message"])},[(0,t.Lk)("div",Ds,["user"===e.sender?((0,t.uX)(),(0,t.CE)("p",Ns,[a[9]||(a[9]=(0,t.Lk)("strong",null,"사용자:",-1)),(0,t.eW)(" "+(0,i.v_)(e.content),1)])):((0,t.uX)(),(0,t.CE)("div",Vs,[a[10]||(a[10]=(0,t.Lk)("p",null,[(0,t.Lk)("strong",null,"챗봇:")],-1)),(0,t.Lk)("pre",Ws,(0,i.v_)(e.content),1)]))])],2)))),128))]),(0,t.Lk)("form",{onSubmit:a[1]||(a[1]=(0,r.D$)(((...e)=>n.sendMessage&&n.sendMessage(...e)),["prevent"])),class:"chat-input"},[(0,t.Lk)("div",Fs,[(0,t.bo)((0,t.Lk)("textarea",{class:"form-control","onUpdate:modelValue":a[0]||(a[0]=e=>l.userInput=e),placeholder:"시나리오 수정 요청을 입력하세요. 예: '환자의 나이를 65세로 변경해주세요.'",rows:"3",disabled:l.modifying},null,8,Ps),[[r.Jo,l.userInput]]),(0,t.Lk)("button",{type:"submit",class:"btn btn-primary",disabled:!l.userInput.trim()||l.modifying},[l.modifying?((0,t.uX)(),(0,t.CE)("span",Gs)):(0,t.Q3)("",!0),a[11]||(a[11]=(0,t.eW)(" 전송 "))],8,$s)])],32)])])])):((0,t.uX)(),(0,t.CE)("div",ks," 시나리오를 찾을 수 없습니다. "))])}const Ks={name:"ScenarioModify",props:{id:{type:[String,Number],required:!0}},data(){return{userInput:"",chatHistory:[],modifying:!1}},computed:{...(0,v.L8)(["currentScenario","isLoading","error"])},methods:{formatKey(e){const a={gender:"성별",age:"나이",medical_history:"과거력",family_history:"가족력",allergies:"알레르기",vital_signs:"활력징후",symptoms:"주요증상"};return a[e]||e},formatValue(e){return Array.isArray(e)?e.join(", "):e},async sendMessage(){if(!this.userInput.trim()||this.modifying)return;this.chatHistory.push({sender:"user",content:this.userInput});const e=this.userInput;this.userInput="",this.modifying=!0;try{await this.$store.dispatch("modifyScenario",{scenarioId:this.id,userInput:e});this.chatHistory.push({sender:"bot",content:"시나리오가 성공적으로 수정되었습니다."})}catch(a){this.chatHistory.push({sender:"bot",content:`오류가 발생했습니다: ${a.message||"알 수 없는 오류"}`})}finally{this.modifying=!1}}},async created(){this.currentScenario&&this.currentScenario.id===parseInt(this.id)||await this.$store.dispatch("fetchScenario",this.id),this.chatHistory.push({sender:"bot",content:"안녕하세요! 시나리오 수정을 도와드리겠습니다. 어떤 부분을 수정하고 싶으신가요?"})}},Bs=(0,_.A)(Ks,[["render",Qs],["__scopeId","data-v-5a9ce186"]]),Hs=Bs;var Js=s(373),qs=s(971);Js.A.defaults.baseURL={NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_API_URL||"http://localhost:8000";const js=(0,v.y$)({state:{user:null,scenarios:[],currentScenario:null,loading:!1,error:null},getters:{isLoggedIn:e=>!!e.user,currentUser:e=>e.user,isAdmin:e=>e.user&&e.user.is_admin,scenarios:e=>e.scenarios,currentScenario:e=>e.currentScenario,isLoading:e=>e.loading,error:e=>e.error},mutations:{SET_USER(e,a){e.user=a},SET_SCENARIOS(e,a){e.scenarios=a},SET_CURRENT_SCENARIO(e,a){e.currentScenario=a},SET_LOADING(e,a){e.loading=a},SET_ERROR(e,a){e.error=a},CLEAR_ERROR(e){e.error=null}},actions:{checkAuth({commit:e}){const a=(0,qs.xI)();(0,qs.hg)(a,(async a=>{if(a)try{const s=await a.getIdToken(),r=await Js.A.get("/api/users/me/",{headers:{Authorization:`Bearer ${s}`}});e("SET_USER",r.data)}catch(s){console.error("사용자 정보 가져오기 실패:",s),e("SET_USER",null)}else e("SET_USER",null)}))},async login({commit:e},{email:a,password:s}){e("SET_LOADING",!0),e("CLEAR_ERROR");try{const r=(0,qs.xI)(),t=await(0,qs.x9)(r,a,s),i=await t.user.getIdToken(),o=await Js.A.get("/api/users/me/",{headers:{Authorization:`Bearer ${i}`}});return e("SET_USER",o.data),e("SET_LOADING",!1),o.data}catch(r){throw e("SET_ERROR",r.message),e("SET_LOADING",!1),r}},async register({commit:e},{username:a,email:s,password:r}){e("SET_LOADING",!0),e("CLEAR_ERROR");try{const t=(0,qs.xI)(),i=await(0,qs.eJ)(t,s,r),o=await i.user.getIdToken(),l=await Js.A.post("/api/users/",{username:a,email:s,firebase_uid:i.user.uid},{headers:{Authorization:`Bearer ${o}`}});return e("SET_USER",l.data),e("SET_LOADING",!1),l.data}catch(t){throw e("SET_ERROR",t.message),e("SET_LOADING",!1),t}},async logout({commit:e}){try{const a=(0,qs.xI)();await(0,qs.CI)(a),e("SET_USER",null)}catch(a){throw e("SET_ERROR",a.message),a}},async fetchScenarios({commit:e}){e("SET_LOADING",!0),e("CLEAR_ERROR");try{const a=await Js.A.get("/api/scenarios/");return e("SET_SCENARIOS",a.data),e("SET_LOADING",!1),a.data}catch(a){throw e("SET_ERROR",a.message),e("SET_LOADING",!1),a}},async fetchScenario({commit:e},a){e("SET_LOADING",!0),e("CLEAR_ERROR");try{const s=await Js.A.get(`/api/scenarios/${a}/`);return e("SET_CURRENT_SCENARIO",s.data),e("SET_LOADING",!1),s.data}catch(s){throw e("SET_ERROR",s.message),e("SET_LOADING",!1),s}},async createScenario({commit:e,getters:a},s){e("SET_LOADING",!0),e("CLEAR_ERROR");try{const a=(0,qs.xI)(),r=await a.currentUser.getIdToken(),t=await Js.A.post("/api/scenarios/generate/",s,{headers:{Authorization:`Bearer ${r}`}});return e("SET_LOADING",!1),t.data}catch(r){throw e("SET_ERROR",r.message),e("SET_LOADING",!1),r}},async modifyScenario({commit:e,getters:a},{scenarioId:s,userInput:r}){e("SET_LOADING",!0),e("CLEAR_ERROR");try{const t=(0,qs.xI)(),i=await t.currentUser.getIdToken(),o=await Js.A.post("/api/modifications/modify/",{scenario_id:s,user_input:r},{headers:{Authorization:`Bearer ${i}`}});if(a.currentScenario&&a.currentScenario.id===s){const a=await Js.A.get(`/api/scenarios/${s}/`);e("SET_CURRENT_SCENARIO",a.data)}return e("SET_LOADING",!1),o.data}catch(t){throw e("SET_ERROR",t.message),e("SET_LOADING",!1),t}}}}),Ms=[{path:"/",name:"Home",component:Q},{path:"/login",name:"Login",component:ie,meta:{guestOnly:!0}},{path:"/register",name:"Register",component:Ae,meta:{guestOnly:!0}},{path:"/scenarios",name:"ScenarioList",component:qe},{path:"/scenarios/:id",name:"ScenarioDetail",component:_a,props:!0},{path:"/create",name:"ScenarioCreate",component:ps,meta:{requiresAdmin:!0}},{path:"/scenarios/:id/modify",name:"ScenarioModify",component:Hs,props:!0,meta:{requiresAuth:!0}}],zs=(0,E.aE)({history:(0,E.LA)("/"),routes:Ms});zs.beforeEach(((e,a,s)=>{const r=js.getters.isLoggedIn,t=js.getters.isAdmin;e.matched.some((e=>e.meta.requiresAdmin))?r&&t?s():s({name:"Login",query:{redirect:e.fullPath}}):e.matched.some((e=>e.meta.requiresAuth))?r?s():s({name:"Login",query:{redirect:e.fullPath}}):e.matched.some((e=>e.meta.guestOnly))&&r?s({name:"Home"}):s()}));const Ys=zs;var Zs=s(400);const er={apiKey:{NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_FIREBASE_API_KEY,authDomain:{NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_FIREBASE_AUTH_DOMAIN,projectId:{NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_FIREBASE_PROJECT_ID,storageBucket:{NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_FIREBASE_STORAGE_BUCKET,messagingSenderId:{NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_FIREBASE_MESSAGING_SENDER_ID,appId:{NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_FIREBASE_APP_ID};(0,Zs.Wp)(er),(0,r.Ef)(g).use(js).use(Ys).mount("#app")}},a={};function s(r){var t=a[r];if(void 0!==t)return t.exports;var i=a[r]={exports:{}};return e[r](i,i.exports,s),i.exports}s.m=e,(()=>{var e=[];s.O=(a,r,t,i)=>{if(!r){var o=1/0;for(d=0;d<e.length;d++){for(var[r,t,i]=e[d],l=!0,n=0;n<r.length;n++)(!1&i||o>=i)&&Object.keys(s.O).every((e=>s.O[e](r[n])))?r.splice(n--,1):(l=!1,i<o&&(o=i));if(l){e.splice(d--,1);var c=t();void 0!==c&&(a=c)}}return a}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[r,t,i]}})(),(()=>{s.d=(e,a)=>{for(var r in a)s.o(a,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:a[r]})}})(),(()=>{s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{s.o=(e,a)=>Object.prototype.hasOwnProperty.call(e,a)})(),(()=>{s.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{var e={524:0};s.O.j=a=>0===e[a];var a=(a,r)=>{var t,i,[o,l,n]=r,c=0;if(o.some((a=>0!==e[a]))){for(t in l)s.o(l,t)&&(s.m[t]=l[t]);if(n)var d=n(s)}for(a&&a(r);c<o.length;c++)i=o[c],s.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return s.O(d)},r=self["webpackChunknursing_simulation_platform"]=self["webpackChunknursing_simulation_platform"]||[];r.forEach(a.bind(null,0)),r.push=a.bind(null,r.push.bind(r))})();var r=s.O(void 0,[504],(()=>s(875)));r=s.O(r)})();
//# sourceMappingURL=app.3568f6f7.js.map